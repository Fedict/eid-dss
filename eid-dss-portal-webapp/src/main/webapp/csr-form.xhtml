<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
	<ui:param name="activeMenu" value="csr" />
	<ui:define name="body">
		<h2>Demo Certificate Signing Request</h2>
		<p>Please complete the following CSR form.</p>
		<h:form>
			<h:panelGrid columns="2">
				<h:outputLabel value="Distinguished Name" for="dn" />
				<h:panelGroup>
					<h:inputText id="dn" value="#{csrForm.dn}" required="true"
						size="60" />
					<h:message for="dn" style="color: red;" />
				</h:panelGroup>

				<h:outputLabel value="Certificate Type" for="type" />
				<h:panelGroup>
					<h:selectOneRadio id="type" value="#{csrForm.type}" required="true">
						<f:selectItem itemLabel="Server Certificate" itemValue="Server" />
						<f:selectItem itemLabel="Client/Application Certificate"
							itemValue="Client" />
						<f:selectItem itemLabel="Code Signing Certificate"
							itemValue="Code" />
					</h:selectOneRadio>
					<h:message for="type" style="color: red;" />
				</h:panelGroup>

				<h:outputLabel value="Validity Period (year)" for="validityPeriod" />
				<h:panelGroup>
					<h:selectOneMenu id="validityPeriod"
						value="#{csrForm.validityPeriod}" required="true">
						<f:selectItem itemLabel="1" itemValue="1" />
						<f:selectItem itemLabel="2" itemValue="2" />
						<f:selectItem itemLabel="5" itemValue="5" />
					</h:selectOneMenu>
					<h:message for="validityPeriod" style="color: red;" />
				</h:panelGroup>

				<h:outputLabel value="Operator Name" for="operatorName" />
				<h:outputText id="operatorName"
					value="#{eid.identity.name} #{eid.identity.firstName}" />

				<h:outputLabel value="Operator Function" for="operatorFunction" />
				<h:panelGroup>
					<h:inputText id="operatorFunction"
						value="#{csrForm.operatorFunction}" required="true" />
					<h:message for="operatorFunction" style="color: red;" />
				</h:panelGroup>

				<h:outputLabel value="Operator Phone" for="operatorPhone" />
				<h:panelGroup>
					<h:inputText id="operatorPhone" value="#{csrForm.operatorPhone}"
						required="true" />
					<h:message for="operatorPhone" style="color: red;" />
				</h:panelGroup>

				<h:outputLabel value="Operator Email" for="operatorEmail" />
				<h:panelGroup>
					<h:inputText id="operatorEmail" value="#{csrForm.operatorEmail}"
						required="true" />
					<h:message for="operatorEmail" style="color: red;" />
				</h:panelGroup>
			</h:panelGrid>

			<p><h:outputLabel value="CSR (PEM format)" for="csr" /></p>
			<h:inputTextarea id="csr" value="#{csrForm.csr}" rows="20" cols="80"
				required="true" />
			<h:message for="csr" style="color: red;" />

			<p><h:outputLabel value="Description" for="description" /></p>
			<h:inputTextarea id="description" value="#{csrForm.description}"
				rows="10" cols="60" required="true" />
			<h:message for="description" style="color: red;" />

			<p><h:commandButton value="Submit" action="#{csrForm.submit}" />
			</p>
			<h:messages globalOnly="true" style="color: red;" />
		</h:form>
	</ui:define>
</ui:composition>
</body>
</html>